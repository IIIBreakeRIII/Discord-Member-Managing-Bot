# 디스코드 멤버 관리 자동화 봇

<img src='images/Discord-Bot-ScreenShot.png'/>

## 개요 및 사용 기술
커뮤니티성 Discord 서버 관리 시에 발생할 수 있는 멤버 관리와 관련된 모든 작업을 자동화하기 위해 제작

- `Python`과 `MongoDB`를 이용하여 개발
- `Git` 및 `Github`을 이용하여 버전 관리
- `Google Cloud Platform`을 이용하여 배포
- 개인정보는 포함하지 않기에 보안 조치는 진행하지 않음

> `.env` 및 `config.json`은 [`configuration-file.md`](configuration-file.md)를 참고

<br>

## Release Version 1.0
> 최초 출시 (2025.06.01)
**기능 및 명령어**

|동작 여부|기능 요약|명령어|설명|
|------|------|-----|--|
|✅|출석 체크|`/출석-확인`|음성 채널 마지막 접속 기록 확인|
|✅|공지 메시지 ID 설정|`/멤버-공지메시지id-설정`|멤버의 공지 메시지 ID 설정|
|✅|공지 메시지 ID 설정|`/게스트-공지메시지id-설정`|서버 게스트의 공지 메시지 설정|
|✅|권한 부여|`-`|공지 메시지 확인 후 ✅ 이모지 반응 시 권한 자동 부여|
|✅|멤버 디테일|`/유저-정보`|해당 유저의 정보를 DB에서 조회 후 제공|
|✅|출석 체크|`/출석-확인`|음성 채널 마지막 접속 기록 확인|
|✅|서버 동기화|`/서버동기화`|현재 서버에 있는 모든 멤버의 정보를 최신화|
|✅|음성 채널 체류 시간|`/음성-리더보드`|해당 유저가 서버 내 전체 음성 채널에서 보낸 총 시간을 반환|

<br>

## Release version 1.1 (`Bug Fix`)

> **Issue** 발생으로 개정 버전으로 수정 배포 진행

|카테고리|이슈 내용|중요도|이슈 상태|문제 버전|
|-----|-------|-----|-------|------|
|/유저-정보|마지막 활동 시간이 `잘못된 시간`으로 반환|`긴급`|`Done`|1.0|
|/서버동기화|탈퇴 멤버에 대한 목록 업데이트 안됨|`일반`|`2.0`에 통합 출시|1.0|

<br>

## Release Version 2.0
> 최초 출시 (2025.07.03)
**기능 및 명령어**

|동작 여부|기능 요약|명령어|설명|
|------|------|-----|--|
|✅|서버 동기화|`/서버동기화`|1주에 1번 자동으로 실행, 결과 보고|
|✅|역할 별 명령어 제한|`-`|권한별 사용할 수 있는 명령어 제한, `RBAC` 도입|
|✅|탈퇴 멤버에 대한 추적|`-`|서버 탈퇴 멤버를 DB 상 전용 Collection으로 `copy`-`paste`|
|✅|장기 미접속 알림|`-`|마지막 접속 시간 기준 14일 & 30일 동안 접속 없을 경우 관리자에게 알림|

<br>

## Release Version 3.0
> 오류 수정 및 리팩토링 진행 (2026.01.26)
**기능 및 명령어**

|동작 여부|기능 요약|명령어|설명|
|------|------|-----|--|
|✅|에러 로그 알림 채널 설정|`/에러-알림-채널-설정`|에러 로그를 전송할 채널 ID 설정|
|✅|에러 알림 테스트|`/에러-테스트`|에러 로그 전송 테스트 수행|

- 로그 채널 설정 후 `Error` 로그는 자동으로 알림 전송
- `.log` 파일로 로그 분리: DB & Bot Log 분리 진행
- UTC 관련 Timezone 오류 수정
- 2026.01.27 배포 완료

<br>

## Release Version 4.0
> 음성 리더보드 및 게임 챔피언 승률 데이터 표시 기능 추가 (2026.01.28)
**기능 및 명령어**

|동작 여부|기능 요약|명령어|설명|
|------|------|-----|--|
|✅|주간 음성 리더보드(오늘 기준)|`/주간-음성-리더보드-오늘`|오늘 기준 최근 7일간 음성채널 상주 시간 Top 10|
|✅|월간 음성 리더보드(오늘 기준)|`/월간-음성-리더보드-오늘`|오늘 기준 최근 1개월 음성채널 상주 시간 Top 10|
|✅|주차별 음성 리더보드|`/주차별-음성-리더보드`|최근 3개월 중 특정 주차의 음성채널 상주 시간 Top 10|
|✅|월별 음성 리더보드|`/월별-음성-리더보드`|최근 3개월 중 특정 월의 음성채널 상주 시간 Top 10|
|✅|영웅 승률 Top 5 조회|`/승률-보기`|맵/역할/모드/티어 기준 오버워치 영웅 승률 Top 5 출력|

- 주차별, 월별 확인 가능, 오늘 기준 -7일, -30일 확인 가능
- 데이터 보존은 최대 3개월, 1달씩 데이터 삭제
- [오버워치 영웅 통계] 페이지의 http 요청 Response를 Sorting 후 Display

<br>

## Release Version 4.1
> 일부 기능 수정

- 음성 리더보드 미래 호출 시 나오는 오류 메시지 수정
- 음성 리더보드 기능 설명 추가
- 승률 조회 기능 제목 수정
- 승률 조회 기능 파라미터 설명 추가
